@model WebTimKiemPhongTro.Models.TinDang

@{
    ViewBag.Title = "Details";
    Layout = "~/Areas/Admin/Views/Shared/_LayoutShare.cshtml";
}

<style>
    #mapCanvas {
        height: 600px;
        margin-left: 100px;
        margin-right: 100px;
    }

    * {
        box-sizing: border-box
    }

    .mySlides1, .mySlides2 {
        display: none
    }

    img {
        vertical-align: middle;
    }

    /* Slideshow container */
    .slideshow-container {
        max-width: 720px;
        max-height: 370px;
        position: relative;
        margin: auto;
        margin-bottom: 20px;
    }

    /* Next & previous buttons */
    .prev, .next {
        cursor: pointer;
        position: absolute;
        top: 50%;
        width: auto;
        padding: 16px;
        margin-top: -22px;
        color: white;
        font-weight: bold;
        font-size: 18px;
        transition: 0.6s ease;
        border-radius: 0 3px 3px 0;
        user-select: none;
    }

    /* Position the "next button" to the right */
    .next {
        right: 0;
        border-radius: 3px 0 0 3px;
    }

        /* On hover, add a grey background color */
        .prev:hover, .next:hover {
            background-color: #f1f1f1;
            color: black;
        }

    .property-style2 .dealer-widget {
        background-color: #838383;
    }
    .dealer-widget {
        background-color: #838383;
        padding: 15px;
        color: #FFF;
        padding-bottom: 20px;
        margin: -15px -15px 25px;
    }
    /*--------------------------*/
    <style >
    /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
    #map {
        height: 100%;
    }
    /* Optional: Makes the sample page fill the window. */
    html, body {
        height: 100%;
        margin: 0;
        padding: 0;
    }
    .dealer-widget {
        background-color: #838383;
        padding: 15px;
        color: #FFF;
        padding-bottom: 20px;
        margin: -15px -15px 25px;
    }
</style>

</style>

<!-- property area -->
<div class="content-area single-property" style="background-color: #FCFCFC;">
    &nbsp;
    <div class="container">

        <div class="clearfix padding-top-40">

            <div class="col-md-6 single-property-content prp-style-2" style="float:left">
                <div class="">
                    <div class="row">
                        <div class="light-slide-item">
                            <div class="clearfix">
                                @{ var iamge = Model.Image.Split(','); }

                                <div class="slideshow-container">
                                    @foreach (var i in iamge)
                                    {
                                        <div class="mySlides1">
                                            <img src="~/Content/assets/img/uploadimage/@i" style="width: 100%;height:370px; margin-top: -15px">
                                        </div>}


                                    <a class="prev" onclick="plusSlides(-1, 0)">&#10094;</a>
                                    <a class="next" onclick="plusSlides(1, 0)">&#10095;</a>
                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="row" style="margin-left:0">
                        <h4>@Model.TieuDe</h4>
                        <br />
                    </div>
                    <div>
                        <h5><img src="~/Content/assets/img/icon/pricesmall.png">  @Html.FormatValue(Model.GiaTien, "{0:#,###}") VND/Tháng </h5>
                        <h5><img src="~/Content/assets/img/icon/area.png">   @Model.DienTich m </h5>
                        <h5><img src="~/Content/assets/img/icon/addresssmal.png">  @Model.DiaChi </h5><br />
                    </div>
                    <div class="single-property-wrapper">

                        <div class="section">
                            <h4 class="s-property-title">Thông Tin Mô Tả</h4>
                            <div class="s-property-content">

                                <p>  @Html.Raw(Model.MoTa)</p>
                            </div>
                        </div>
                    </div>
                </div>

                
            </div>
            @*thong tin cơ bản*@
        <div class="col-md-5 p0" style="float:right">
            <aside class="sidebar sidebar-property blog-asside-right property-style2">
                <div class="dealer-widget">
                    <div class="dealer-content">
                        <div class="inner-wrapper">

                            <div class="dealer-section-space">
                                <h3 style="text-align:center">Thông tin liên Hệ</h3>
                            </div>
                            <div class="clear">
                                <div class="col-xs-4 col-sm-4 dealer-face">
                                    <a href="">
                                        <img src="~/Content/assets/img/uploadimage/@Model.AspNetUsers.Image" class="img-circle" style="width:100px; height: 100px; margin-left: 160px">
                                    </a>
                                </div>
                                <div class="col-xs-8 col-sm-8 ">
                                    <h3 class="dealer-name">
                                        <a href="">Người Đăng Tin</a><br />
                                        <span>@Model.Name</span>
                                    </h3>

                                </div>
                            </div>

                            <div class="clear">
                                <ul class="dealer-contacts">
                                    <li><i class="pe-7s-map-marker strong"> </i> @Model.Name</li>
                                    <li><i class="pe-7s-mail strong"> </i>@Model.email</li>
                                    <li><i class="pe-7s-call strong"> </i>@Model.Sdt</li>
                                </ul>
                                <p>Thông tin chi tiết liên hệ số điện thoại hoặc địa chỉ email ...</p>
                            </div>

                        </div>
                        <div class="section additional-details">

                            <h4 class="s-property-title">Đặc Điểm Tin</h4>

                            <ul class="additional-details-list clearfix">
                                <li>
                                    <span class="col-xs-6 col-sm-4 col-md-4 add-d-title">Mã tin</span>
                                    <span class="col-xs-6 col-sm-8 col-md-8 add-d-entry">@Model.MaTin</span>
                                </li>

                                <li>
                                    <span class="col-xs-6 col-sm-4 col-md-4 add-d-title">Chuyên mục</span>
                                    <span class="col-xs-6 col-sm-8 col-md-8 add-d-entry">@Model.ChuyenMuc</span>
                                </li>
                                <li>
                                    <span class="col-xs-6 col-sm-4 col-md-4 add-d-title">Ngày đăng</span>
                                    <span class="col-xs-6 col-sm-8 col-md-8 add-d-entry"> @Model.NgayDang</span>
                                </li>

                                <li>
                                    <span class="col-xs-6 col-sm-4 col-md-4 add-d-title">Người đăng</span>
                                    <span class="col-xs-6 col-sm-8 col-md-8 add-d-entry">@Model.Name</span>
                                </li>

                            </ul>
                        </div>

                    </div>
                </div>
                <div class="section additional-details" style="margin-left: 100px">
                    <button type="button" class="btn btn-default" style="color: #ffffff; background: #00aecd94; box-shadow: 0 2px 5px 0 rgba(0,0,0,.16), 0 2px 10px 0 rgba(0,0,0,.12); padding: 0.5em 1em; display: inline-block; margin: 0.5em 0;">@Html.ActionLink("Trở về trang trước", "Index", new { id = Model.MaTin })</button>
                </div>
            </aside>
            
        </div>



        </div>

    </div>
</div>
<div class="map" id="mapCanvas"></div>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAtaV6ZrxKqRZlAim1ABFPBXDNCCKIEZ18&callback=initMap"></script>
<script src="/assets/client/js/controller/contactController.js"></script>
<script>

        // This example displays a marker at the center of Australia.
        // When the user clicks the marker, an info window opens.
        //21.046300, 105.793266
        function initMap() {
            var uluru = { lat: 21.046300, lng: 105.793266 };
            var map = new google.maps.Map(document.getElementById('mapCanvas'), {
                zoom: 18,
                center: uluru
            });
            var contentString = '@Html.Raw(Model.DiaChi)';
            var infowindow = new google.maps.InfoWindow({
                content: contentString
            });
            var marker = new google.maps.Marker({
                position: uluru,
                map: map,
                title: 'Địa chỉ'
            });
            marker.addListener('click', function () {
                infowindow.open(map, marker);
            });
        }
        google.maps.event.addDomListener(window, 'load', initMap);
</script>


<script>
    var slideIndex = [1, 1];
    var slideId = ["mySlides1", "mySlides2"]
    showSlides(1, 0);
    showSlides(1, 1);

    function plusSlides(n, no) {
        showSlides(slideIndex[no] += n, no);
    }

    function showSlides(n, no) {
        var i;
        var x = document.getElementsByClassName(slideId[no]);
        if (n > x.length) { slideIndex[no] = 1 }
        if (n < 1) { slideIndex[no] = x.length }
        for (i = 0; i < x.length; i++) {
            x[i].style.display = "none";
        }
        x[slideIndex[no] - 1].style.display = "block";
    }</script>